import{e as l,g as h,h as U,i as $,c as k,b as u,w as b,a as t,t as n,d as E,j as L,r as d,o as z}from"./index-idJVGL79.js";const P={class:"container mt-5"},Z={class:"d-flex justify-content-between"},q={key:0},G={class:"text-primary fw-bold"},H={class:"text-primary fw-bold"},J={class:"text-primary fw-bold"},K={class:"text-primary fw-bold"},W={__name:"TransferRecord",setup(O){const m=new Date,M=m.getFullYear(),o=l(String(m.getMonth()+1).padStart(2,"0")),s=l(`${M}-${o.value}`),w=l(""),S={timeZone:"Asia/Taipei",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},y=l(0),C=l(0),x=l(0),Y=l(0),V=l(2e5),p=l([]);function _(){console.log(s.value),D(),w.value=new Intl.DateTimeFormat("en-CA",S).format(m).replace(",",""),y.value=-202212,C.value=-88103,x.value=1633e3,Y.value=1747109,p.value=[{scheduled_date:"2024-08-07",remittance_amount:343e3,note:"刷卡"},{scheduled_date:"2024-08-05",remittance_amount:8e5,note:"匯款"},{scheduled_date:"2024-08-01",remittance_amount:49e4,note:"刷卡"},{scheduled_date:"2024-07-25",remittance_amount:5e5,note:"刷卡"},{scheduled_date:"2024-07-21",remittance_amount:3e5,note:"刷卡"},{scheduled_date:"2024-07-15",remittance_amount:39e4,note:"刷卡"},{scheduled_date:"2024-07-08",remittance_amount:3e5,note:"刷卡"},{scheduled_date:"2024-07-05",remittance_amount:6e5,note:"刷卡"},{scheduled_date:"2024-07-01",remittance_amount:3e5,note:"刷卡"}]}function D(){s.value?o.value=s.value.split("-")[1]:o.value=""}const N=h(()=>{const a=parseInt(o.value);return a===1?12:a-1});U(s,()=>{_()}),$(()=>{_()});function r(a){return a.toLocaleString("en-US")}const i=l(5),c=l(1),v=h(()=>p.value.length),T=h(()=>{const a=(c.value-1)*i.value,e=a+i.value;return p.value.slice(a,e)});function B(a){i.value=a,c.value=1}function j(a){c.value=a}return(a,e)=>{const A=d("router-link"),F=d("el-date-picker"),g=d("el-table-column"),I=d("el-table"),R=d("el-pagination");return z(),k("div",P,[u(A,{to:"/"},{default:b(()=>e[1]||(e[1]=[t("button",{class:"btn btn-outline-warning mb-2"},"回首頁",-1)])),_:1}),t("p",Z,[e[2]||(e[2]=t("span",{class:"fw-bold"},"匯款紀錄查詢",-1)),t("span",null,"結帳時間："+n(w.value),1)]),e[7]||(e[7]=t("p",null,"*以下匯款明細，會因匯款入帳作業有 2 - 3 工作天的差異",-1)),e[8]||(e[8]=E(" 查詢帳戶月份： ")),u(F,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=f=>s.value=f),type:"month",format:"YYYY-MM","value-format":"YYYY-MM",placeholder:"請選擇查詢帳戶月份",onChange:_},null,8,["modelValue"]),o.value?(z(),k("p",q,[e[3]||(e[3]=t("br",null,null,-1)),t("span",null,n(o.value)+"月份餘額：",1),t("span",G,n(r(y.value)),1),e[4]||(e[4]=t("span",null,"=",-1)),t("span",null,n(N.value)+"月份餘額",1),t("span",H,n(r(C.value)),1),e[5]||(e[5]=t("span",null,"+",-1)),t("span",null,n(o.value)+"月份匯款",1),t("span",J,n(r(x.value)),1),e[6]||(e[6]=t("span",null,"-",-1)),t("span",null,n(o.value)+"月份加油小計",1),t("span",K,n(r(Y.value)),1)])):L("",!0),t("p",null,"安全值金額："+n(r(V.value)),1),u(I,{data:T.value,stripe:""},{default:b(()=>[u(g,{align:"center",prop:"scheduled_date",label:"交易日"}),u(g,{align:"center",prop:"remittance_amount",label:"匯款金額"},{default:b(({row:f})=>[t("span",null,n(r(f.remittance_amount)),1)]),_:1}),u(g,{align:"center",prop:"note",label:"交易方式"})]),_:1},8,["data"]),t("p",null," 顯示第 "+n((c.value-1)*i.value+1)+" 項 到 第 "+n(Math.min(c.value*i.value,v.value))+" 項 (共 "+n(v.value)+" 項) ",1),u(R,{background:"",layout:"sizes, prev, pager, next","page-sizes":[3,5,10],"page-size":i.value,"show-sizes":!1,total:v.value,"current-page":c.value,onSizeChange:B,onCurrentChange:j},null,8,["page-size","total","current-page"])])}}};export{W as default};
